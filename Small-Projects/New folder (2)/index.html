<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spider-Man 3D - Ultimate Web Adventure</title>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cannon.js/0.20.0/cannon.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="spiderman-game.css" />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Russo+One&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
      <div class="loading-content">
        <div class="spider-logo">
          <div class="spider-symbol">üï∑Ô∏è</div>
        </div>
        <h1 class="game-title">SPIDER-MAN 3D</h1>
        <div class="subtitle">Ultimate Web Adventure</div>

        <div class="loading-bar-container">
          <div id="loadingBar" class="loading-bar">
            <div id="loadingProgress" class="loading-progress"></div>
          </div>
          <div id="loadingPercentage" class="loading-percentage">0%</div>
        </div>

        <div id="loadingText" class="loading-text">
          Initializing Spider Powers...
        </div>

        <div class="loading-tips">
          <div class="tip-text">
            üí° Use WASD to move and mouse to look around
          </div>
        </div>
      </div>

      <!-- Animated Background -->
      <div class="web-background">
        <div class="web-strand web-1"></div>
        <div class="web-strand web-2"></div>
        <div class="web-strand web-3"></div>
        <div class="web-strand web-4"></div>
      </div>
    </div>

    <!-- Main Game Container -->
    <div id="gameContainer" class="game-container">
      <!-- 3D Canvas -->
      <canvas id="gameCanvas" class="game-canvas"></canvas>

      <!-- Game HUD (Heads Up Display) -->
      <div id="gameHUD" class="game-hud">
        <!-- Health System -->
        <div class="hud-panel health-panel">
          <div class="panel-title">HEALTH</div>
          <div id="healthBar" class="progress-bar health-bar">
            <div id="healthFill" class="progress-fill health-fill"></div>
            <div class="progress-text">
              <span id="healthValue">100</span>/100
            </div>
          </div>
        </div>

        <!-- Web Fluid System -->
        <div class="hud-panel web-panel">
          <div class="panel-title">WEB FLUID</div>
          <div id="webFluidBar" class="progress-bar web-bar">
            <div id="webFluidFill" class="progress-fill web-fill"></div>
            <div class="progress-text">
              <span id="webFluidValue">100</span>/100
            </div>
          </div>
        </div>

        <!-- Stamina System -->
        <div class="hud-panel stamina-panel">
          <div class="panel-title">STAMINA</div>
          <div id="staminaBar" class="progress-bar stamina-bar">
            <div id="staminaFill" class="progress-fill stamina-fill"></div>
          </div>
        </div>

        <!-- Score and Stats -->
        <div class="hud-panel score-panel">
          <div class="score-container">
            <div class="score-label">SCORE</div>
            <div id="scoreValue" class="score-value">0</div>
          </div>
          <div class="stats-container">
            <div class="stat-item">
              <span class="stat-label">Combo:</span>
              <span id="comboValue" class="stat-value">0</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Height:</span>
              <span id="heightValue" class="stat-value">0m</span>
            </div>
          </div>
        </div>

        <!-- Spider Sense Indicator -->
        <div id="spiderSense" class="spider-sense">
          <div class="sense-ring"></div>
          <div class="sense-center">‚ö†Ô∏è</div>
        </div>

        <!-- Crosshair -->
        <div id="crosshair" class="crosshair">
          <div class="crosshair-dot"></div>
          <div class="crosshair-ring"></div>
        </div>

        <!-- Web Swing Indicator -->
        <div id="webSwingIndicator" class="web-swing-indicator">
          <div class="swing-arc"></div>
          <div class="swing-point"></div>
        </div>
      </div>

      <!-- Mini Map -->
      <div id="miniMapContainer" class="minimap-container">
        <div class="minimap-title">AREA MAP</div>
        <canvas
          id="miniMapCanvas"
          class="minimap-canvas"
          width="180"
          height="180"
        ></canvas>
        <div class="minimap-legend">
          <div class="legend-item">
            <div class="legend-color player-color"></div>
            <span>You</span>
          </div>
          <div class="legend-item">
            <div class="legend-color enemy-color"></div>
            <span>Enemies</span>
          </div>
          <div class="legend-item">
            <div class="legend-color objective-color"></div>
            <span>Objectives</span>
          </div>
        </div>
      </div>
    </div>
    <!-- Game Menu System -->
    <div id="mainMenu" class="menu-overlay main-menu">
      <div class="menu-container">
        <div class="menu-header">
          <h1 class="menu-title">SPIDER-MAN 3D</h1>
          <div class="menu-subtitle">Web of Shadows</div>
        </div>

        <div class="menu-buttons">
          <button id="startGameBtn" class="menu-btn primary-btn">
            <span class="btn-icon">üéÆ</span>
            START GAME
          </button>
          <button id="settingsBtn" class="menu-btn">
            <span class="btn-icon">‚öôÔ∏è</span>
            SETTINGS
          </button>
          <button id="controlsBtn" class="menu-btn">
            <span class="btn-icon">üéØ</span>
            CONTROLS
          </button>
          <button id="creditsBtn" class="menu-btn">
            <span class="btn-icon">üë•</span>
            CREDITS
          </button>
        </div>

        <div class="menu-footer">
          <div class="version-info">Version 3.0 - Ultimate Edition</div>
        </div>
      </div>
    </div>

    <!-- Pause Menu -->
    <div id="pauseMenu" class="menu-overlay pause-menu">
      <div class="menu-container">
        <h2 class="menu-title">GAME PAUSED</h2>
        <div class="menu-buttons">
          <button id="resumeBtn" class="menu-btn primary-btn">
            <span class="btn-icon">‚ñ∂Ô∏è</span>
            RESUME
          </button>
          <button id="pauseSettingsBtn" class="menu-btn">
            <span class="btn-icon">‚öôÔ∏è</span>
            SETTINGS
          </button>
          <button id="restartBtn" class="menu-btn">
            <span class="btn-icon">üîÑ</span>
            RESTART
          </button>
          <button id="mainMenuBtn" class="menu-btn">
            <span class="btn-icon">üè†</span>
            MAIN MENU
          </button>
        </div>
      </div>
    </div>

    <!-- Settings Menu -->
    <div id="settingsMenu" class="menu-overlay settings-menu">
      <div class="menu-container">
        <h2 class="menu-title">SETTINGS</h2>

        <div class="settings-tabs">
          <button class="tab-btn active" data-tab="graphics">GRAPHICS</button>
          <button class="tab-btn" data-tab="audio">AUDIO</button>
          <button class="tab-btn" data-tab="controls">CONTROLS</button>
        </div>

        <div class="settings-content">
          <!-- Graphics Settings -->
          <div id="graphicsTab" class="settings-tab active">
            <div class="setting-item">
              <label>Graphics Quality:</label>
              <select id="qualitySelect" class="setting-select">
                <option value="low">Low</option>
                <option value="medium" selected>Medium</option>
                <option value="high">High</option>
                <option value="ultra">Ultra</option>
              </select>
            </div>
            <div class="setting-item">
              <label>Resolution:</label>
              <select id="resolutionSelect" class="setting-select">
                <option value="1920x1080" selected>1920x1080</option>
                <option value="1366x768">1366x768</option>
                <option value="1280x720">1280x720</option>
              </select>
            </div>
            <div class="setting-item">
              <label>Anti-Aliasing:</label>
              <input
                type="checkbox"
                id="antialiasingCheck"
                class="setting-checkbox"
                checked
              />
            </div>
            <div class="setting-item">
              <label>Shadows:</label>
              <input
                type="checkbox"
                id="shadowsCheck"
                class="setting-checkbox"
                checked
              />
            </div>
            <div class="setting-item">
              <label>Particle Effects:</label>
              <input
                type="checkbox"
                id="particlesCheck"
                class="setting-checkbox"
                checked
              />
            </div>
          </div>

          <!-- Audio Settings -->
          <div id="audioTab" class="settings-tab">
            <div class="setting-item">
              <label>Master Volume:</label>
              <input
                type="range"
                id="masterVolume"
                class="setting-slider"
                min="0"
                max="100"
                value="80"
              />
              <span class="slider-value">80%</span>
            </div>
            <div class="setting-item">
              <label>Music Volume:</label>
              <input
                type="range"
                id="musicVolume"
                class="setting-slider"
                min="0"
                max="100"
                value="60"
              />
              <span class="slider-value">60%</span>
            </div>
            <div class="setting-item">
              <label>SFX Volume:</label>
              <input
                type="range"
                id="sfxVolume"
                class="setting-slider"
                min="0"
                max="100"
                value="90"
              />
              <span class="slider-value">90%</span>
            </div>
          </div>

          <!-- Controls Settings -->
          <div id="controlsTab" class="settings-tab">
            <div class="setting-item">
              <label>Mouse Sensitivity:</label>
              <input
                type="range"
                id="mouseSensitivity"
                class="setting-slider"
                min="0.1"
                max="3"
                step="0.1"
                value="1"
              />
              <span class="slider-value">1.0</span>
            </div>
            <div class="setting-item">
              <label>Invert Y-Axis:</label>
              <input
                type="checkbox"
                id="invertYCheck"
                class="setting-checkbox"
              />
            </div>
          </div>
        </div>

        <div class="menu-buttons">
          <button id="applySettingsBtn" class="menu-btn primary-btn">
            APPLY
          </button>
          <button id="cancelSettingsBtn" class="menu-btn">CANCEL</button>
        </div>
      </div>
    </div>

    <!-- Controls Guide -->
    <div id="controlsMenu" class="menu-overlay controls-menu">
      <div class="menu-container">
        <h2 class="menu-title">CONTROLS</h2>
        <div class="controls-grid">
          <div class="control-section">
            <h3>Movement</h3>
            <div class="control-item">
              <span class="key">W A S D</span>
              <span class="description">Move Forward/Back/Left/Right</span>
            </div>
            <div class="control-item">
              <span class="key">SHIFT</span>
              <span class="description">Sprint</span>
            </div>
            <div class="control-item">
              <span class="key">SPACE</span>
              <span class="description">Jump / Web Swing</span>
            </div>
            <div class="control-item">
              <span class="key">CTRL</span>
              <span class="description">Crouch</span>
            </div>
          </div>

          <div class="control-section">
            <h3>Combat & Web Actions</h3>
            <div class="control-item">
              <span class="key">LEFT CLICK</span>
              <span class="description">Punch / Melee Attack</span>
            </div>
            <div class="control-item">
              <span class="key">RIGHT CLICK</span>
              <span class="description">Web Zip / Aim Web</span>
            </div>
            <div class="control-item">
              <span class="key">Q</span>
              <span class="description">Web Shot</span>
            </div>
            <div class="control-item">
              <span class="key">E</span>
              <span class="description">Wall Crawl Toggle</span>
            </div>
            <div class="control-item">
              <span class="key">R</span>
              <span class="description">Reload Web Cartridge</span>
            </div>
            <div class="control-item">
              <span class="key">F</span>
              <span class="description">Spider Sense Focus</span>
            </div>
          </div>

          <div class="control-section">
            <h3>System</h3>
            <div class="control-item">
              <span class="key">ESC</span>
              <span class="description">Pause Menu</span>
            </div>
            <div class="control-item">
              <span class="key">TAB</span>
              <span class="description">Toggle HUD</span>
            </div>
            <div class="control-item">
              <span class="key">M</span>
              <span class="description">Toggle Map</span>
            </div>
          </div>
        </div>
        <button id="closeControlsBtn" class="menu-btn primary-btn">
          GOT IT!
        </button>
      </div>
    </div>

    <!-- Game Over Screen -->
    <div id="gameOverScreen" class="menu-overlay game-over-screen">
      <div class="menu-container">
        <h2 class="game-over-title">MISSION FAILED</h2>
        <div class="game-over-stats">
          <div class="stat-card">
            <div class="stat-label">Final Score</div>
            <div id="finalScore" class="stat-number">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Best Combo</div>
            <div id="bestCombo" class="stat-number">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Time Survived</div>
            <div id="timeSurvived" class="stat-number">00:00</div>
          </div>
        </div>
        <div class="menu-buttons">
          <button id="tryAgainBtn" class="menu-btn primary-btn">
            <span class="btn-icon">üîÑ</span>
            TRY AGAIN
          </button>
          <button id="gameOverMenuBtn" class="menu-btn">
            <span class="btn-icon">üè†</span>
            MAIN MENU
          </button>
        </div>
      </div>
    </div>

    <!-- Achievement Notifications -->
    <div id="achievementContainer" class="achievement-container">
      <!-- Achievements will be dynamically added here -->
    </div>

    <!-- Damage Indicators -->
    <div id="damageIndicators" class="damage-indicators">
      <!-- Damage numbers will be dynamically added here -->
    </div>

    <!-- Web Line Trajectory Indicator -->
    <div id="webTrajectory" class="web-trajectory">
      <canvas id="trajectoryCanvas" width="100" height="100"></canvas>
    </div>

    <!-- External JavaScript Files -->
    <script src="spiderman-game.js"></script>
    <script src="spiderman-physics.js"></script>
    <script src="spiderman-graphics.js"></script>
    <script src="spiderman-audio.js"></script>
  </body>
</html>
